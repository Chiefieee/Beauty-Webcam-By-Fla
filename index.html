<!-- ... bagian atas tetap sama ... -->
<script>
  const video = document.getElementById('kamera');
  const canvas = document.getElementById('overlay');
  const fotoBtn = document.getElementById('fotoBtn');
  const downloadLink = document.getElementById('downloadLink');

  async function startKamera() {
    try {
      const stream = await navigator.mediaDevices.getUserMedia({ video: true });
      video.srcObject = stream;
    } catch (err) {
      alert("Kamera gagal dibuka: " + err.message);
    }
  }

  fotoBtn.addEventListener('click', () => {
    const isMobile = window.innerWidth <= 768;
    const width = isMobile ? 1080 : 800;
    const height = isMobile ? 1400 : 608;

    const fotoCanvas = document.createElement('canvas');
    fotoCanvas.width = width;
    fotoCanvas.height = height;
    const ctx = fotoCanvas.getContext('2d');

    // ✅ Terapkan filter visual ke hasil foto
    ctx.filter = "brightness(1.25) contrast(1.1) saturate(1.05) blur(0.4px)";
    ctx.translate(width, 0);
    ctx.scale(-1, 1);
    ctx.drawImage(video, 0, 0, width, height);
    ctx.setTransform(1, 0, 0, 1, 0, 0);
    ctx.filter = "none"; // hilangkan filter untuk elemen lain (seperti frame kalau ada)

    // ✅ Tambahkan watermark (tidak diubah)
    ctx.font = "28px 'Great Vibes'";
    ctx.fillStyle = "#ff8fb3";
    ctx.textAlign = "right";
    ctx.textBaseline = "bottom";
    ctx.fillText("Webcam by Fla", width - 20, height - 20);

    // ✅ Tambah frame pink
    ctx.lineWidth = isMobile ? 40 : 30;
    ctx.strokeStyle = '#ffaad4';
    ctx.strokeRect(0, 0, width, height);

    const dataURL = fotoCanvas.toDataURL('image/png');
    downloadLink.href = dataURL;
    downloadLink.click();
  });

  startKamera();
</script>

